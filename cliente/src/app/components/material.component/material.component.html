<div class="card border-0 shadow-sm rounded-4 mb-4">
  <div class="card-body bg-light rounded-4">
    <h5 class="card-title text-primary mb-3">
      <i class="bi bi-cloud-upload me-2"></i>Agregar Nuevo Material
    </h5>

    <form (ngSubmit)="agregarMaterial()">

      <div class="mb-3">
        <label for="nombreMaterial" class="form-label fw-bold">Nombre del material</label>
        <input type="text" class="form-control" id="nombreMaterial" [(ngModel)]="nuevoMaterialNombre" name="nombre"
          placeholder="Ej: GuÃ­a de ejercicios, Video clase 1..." required>
      </div>

      <div class="mb-3">
        <label for="tipoMaterial" class="form-label fw-bold">Tipo de material</label>
        <select class="form-select" id="tipoMaterial" [(ngModel)]="nuevoMaterialTipoId" name="tipo" required>
          <option value="" disabled selected>Selecciona un tipo...</option>
          <option *ngFor="let tipo of tiposMaterial" [value]="tipo._id">
            {{ tipo.nombre }}
          </option>
        </select>
      </div>

      <div class="mb-3" *ngIf="tipoRequiereArchivo()">
        <label for="archivoMaterial" class="form-label fw-bold">Subir archivo</label>
        <input type="file" class="form-control" id="archivoMaterial" (change)="onFileSelected($event)"
          [accept]="getAcceptExtension()">
        <div class="form-text text-muted">
          Formato permitido: {{ getAcceptExtension() }}
        </div>
      </div>

      <div class="mb-3" *ngIf="tipoRequiereUrl()">
        <label for="urlMaterial" class="form-label fw-bold">Enlace (URL)</label>
        <input type="url" class="form-control" id="urlMaterial" [(ngModel)]="nuevoMaterialUrl" name="url"
          placeholder="https://example.com">
      </div>

      <div *ngIf="errorMessage" class="alert alert-danger py-2" role="alert">
        <i class="bi bi-exclamation-triangle-fill me-2"></i> {{ errorMessage }}
      </div>

      <div *ngIf="mensajeExito" class="alert alert-success py-2" role="alert">
        <i class="bi bi-check-circle-fill me-2"></i> {{ mensajeExito }}
      </div>

      <div class="d-grid gap-2">
        <button type="submit" class="btn btn-primary" [disabled]="subiendoMaterial">
          <ng-container *ngIf="!subiendoMaterial">
            <i class="bi bi-plus-lg me-1"></i> Publicar Material
          </ng-container>

          <ng-container *ngIf="subiendoMaterial">
            <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
            Publicando...
          </ng-container>
        </button>
      </div>

    </form>
  </div>
</div>